{"version":3,"sources":["utils/alert.js","redux/actions/carsActions.js","components/DefaultLayout.jsx","components/About.jsx","components/Spinner.jsx","components/Footer.jsx","pages/Home.jsx","pages/AdminHome.jsx","redux/actions/userActions.js","pages/Login.jsx","redux/types.js","redux/actions/bookingActions.js","pages/UserBookings.jsx","pages/BookingCar.jsx","pages/AddCar.jsx","pages/EditCar.jsx","pages/Register.jsx","App.jsx","reportWebVitals.js","redux/reducers/carsReducer.js","redux/reducers/alertsReducer.js","redux/reducers/bookingsReducer.js","redux/store.js","index.js"],"names":["alert","message","toast","success","error","getAllCars","async","dispatch","type","payload","response","axios","get","console","log","data","DefaultLayout","props","isOpen","setIsOpen","useState","dropdownRef","useRef","history","useHistory","user","setUser","JSON","parse","localStorage","getItem","useEffect","currentPath","window","location","pathname","isAdmin","push","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleNavigate","path","_jsxs","className","children","_jsx","onClick","goBack","FontAwesomeIcon","icon","faArrowLeft","navigateHome","faCar","ref","toggleDropdown","prevState","faUser","username","faCaretDown","style","zIndex","handleLogout","removeItem","href","Redirect","to","About","src","alt","FaCar","FaPhoneAlt","Spinner","Footer","Date","getFullYear","Home","useDispatch","cars","loading","useSelector","state","carsReducer","searchTerm","setSearchTerm","filteredCars","setFilteredCars","opendate","setOpendate","date","setDate","startDate","endDate","key","openOptions","setOpenOptions","options","setOptions","adult","rooms","length","handleSearch","e","term","value","toLowerCase","filtered","filter","car","category","includes","vehicles","some","vehicle","_vehicle$brand","name","brand","fromDate","toDate","_vehicle$bookedTimeSl","bookedTimeSlots","slot","slotFrom","from","slotTo","handleOption","operation","prev","faCarSide","faCarRear","faBus","Link","faLocationDot","onChange","placeholder","faCalendarDays","format","DateRange","editableDateInputs","item","selection","moveRangeOnFirstSelection","ranges","faBed","disabled","slice","map","image","rentPerHour","fuelType","capacity","transmission","handleBooking","carId","_id","search","AdminHome","alertsReducer","totalCars","setTotalcars","confirmDelete","reqObj","confirm","carid","post","_Fragment","FaEdit","FaTrashAlt","defaults","baseURL","userLogin","values","password","adminUser","setItem","stringify","AOS","init","Login","onSubmit","preventDefault","formData","FormData","Object","fromEntries","entries","_error$response","_error$response$data","htmlFor","id","required","GET_ALL_BOOKINGS","SET_LOADING","bookCar","UserBookings","bookings","bookingsReducer","userBookings","setUserBookings","filteredBookings","booking","_booking$car","_booking$car$vehicles","_booking$car$vehicles2","_booking$car2","_booking$car2$vehicle","_booking$car2$vehicle2","_booking$car3","_booking$car3$vehicle","_booking$car3$vehicle2","_booking$bookedTimeSl","_booking$bookedTimeSl2","moment","totalHours","totalAmount","transactionId","driverRequired","PaymentForm","_ref","driver","setPaymentProcessing","stripe","useStripe","elements","useElements","fetch","method","headers","body","amount","clientSecret","json","result","paymentIntent","status","now","confirmCardPayment","payment_method","card","getElement","CardElement","billing_details","process","REACT_APP_STRIPE_PUBLIC_KEY","base","fontSize","color","invalid","stripePromise","loadStripe","Promise","resolve","BookingCar","_ref2","_car$vehicles$2","_car$vehicles$3","_car$vehicles$4","_car$vehicles$5","_car$vehicles$6","_car$vehicles$7","_car$vehicles$8","match","setcar","setFrom","setTo","setTotalHours","setdriver","setTotalAmount","showModal","setShowModal","selectTimeSlots","diff","params","foundCar","find","o","_car$vehicles","_car$vehicles$","baseAmount","minHeight","checked","Elements","AddCar","_error$response2","_error$response2$data","EditCar","totalcars","settotalcars","updatedCar","defaultValue","Register","userRegister","App","React","handleStorageChange","ProtectedRoute","component","Component","rest","Route","render","Router","Switch","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","arguments","undefined","action","rootReducer","combineReducers","composeEnhancers","composeWithDevTools","trace","traceLimit","store","createStore","applyMiddleware","thunk","ReactDOM","Provider","getElementById"],"mappings":"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","file":"static/js/main.f2611214.chunk.js","sourcesContent":["import { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst alert = {\r\n  success: (message) => {\r\n    toast.success(message);\r\n  },\r\n  error: (message) => {\r\n    toast.error(message);\r\n  }\r\n};\r\n\r\nexport { alert };","import axios from 'axios';\nimport { alert } from '../../utils/alert';\n\nexport const getAllCars = () => async (dispatch) => {\n  dispatch({ type: 'LOADING', payload: true });\n  try {\n    const response = await axios.get('http://localhost:5000/api/cars/cars'); // Corrected endpoint\n    console.log('Fetched cars:', response.data); // Log fetched data\n    dispatch({ type: 'GET_ALL_CARS', payload: response.data });\n    dispatch({ type: 'LOADING', payload: false });\n  } catch (error) {\n    console.error('Error fetching cars:', error);\n    dispatch({ type: 'LOADING', payload: false });\n    dispatch({ type: 'ERROR', payload: error.message });\n  }\n};\nexport const addCar = (reqObj) => async (dispatch) => {\n  dispatch({ type: 'LOADING', payload: true });\n  try {\n    // Add base URL and ensure request body format is correct\n    const response = await axios.post('http://localhost:5000/api/cars/addcar', {\n      vehicles: [{\n        name: reqObj.name,\n        image: reqObj.image,\n        rentPerHour: reqObj.rentPerHour,\n        capacity: reqObj.capacity,\n        fuelType: reqObj.fuelType,\n        transmission: reqObj.transmission\n      }],\n      category: reqObj.category || 'standard'   \n    });\n\n    if (response.status === 200) {\n      alert.success('Car added successfully');\n\n      dispatch(getAllCars());\n    }\n    dispatch({ type: 'LOADING', payload: false });\n  } catch (error) {\n    console.error('Add car error:', error.response?.data || error.message);\n    alert.error(error.response?.data?.message || 'Failed to add car');\n    dispatch({ type: 'LOADING', payload: false });\n  }\n};\n\nexport const editCar = (reqObj) => async (dispatch) => {\n  dispatch({ type: 'LOADING', payload: true });\n  try {\n    const response = await axios.post('/api/cars/editcar', reqObj);\n    if (response.status === 200) {\n      alert.success('Car edited successfully');\n    }\n    dispatch({ type: 'LOADING', payload: false });\n  } catch (error) {\n    console.log(error);\n    alert.error('Something went wrong');\n    dispatch({ type: 'LOADING', payload: false });\n  }\n};\n\nexport const deleteCar = (reqObj) => async (dispatch) => {\n  dispatch({ type: 'LOADING', payload: true });\n  try {\n    await axios.post('/api/cars/deletecar', reqObj);\n    alert.success('Car deleted successfully');\n    dispatch({ type: 'LOADING', payload: false });\n  } catch (error) {\n    console.log(error);\n    alert.error('Something went wrong');\n    dispatch({ type: 'LOADING', payload: false });\n  }\n};\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useHistory, Redirect } from \"react-router-dom\"; // Added Redirect import\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCar, faCaretDown, faArrowLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport { faUser } from \"@fortawesome/free-regular-svg-icons\";\n\nfunction DefaultLayout(props) {\n  const [isOpen, setIsOpen] = useState(false);\n  const dropdownRef = useRef(null);\n  const history = useHistory();\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('user')) || null);\n\n  useEffect(() => {\n    if (user) {\n        const currentPath = window.location.pathname;\n        if (currentPath === '/') {\n            if (user.isAdmin) {\n                history.push('/admin');\n            }\n        } else if (currentPath === '/admin' && !user.isAdmin) {\n            history.push('/');\n        }\n    }\n}, [user, history]);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleLogout = () => {\n    try {\n      // Clear all user-related data\n      localStorage.removeItem('user');\n      setUser(null);\n      setIsOpen(false);\n      \n      // Force a full page reload to clear any remaining state\n      window.location.href = '/login';\n    } catch (error) {\n      console.error('Logout error:', error);\n      // Fallback to regular redirect if full reload fails\n      history.push('/login');\n    }\n  };\n\n  const toggleDropdown = () => {\n    setIsOpen(prevState => !prevState);\n  };\n\n  const handleNavigate = (path) => {\n    setIsOpen(false);\n    history.push(path);\n  };\n\n  const navigateHome = () => {\n    if (user?.isAdmin) {\n      history.push(\"/admin\");\n    } else {\n      history.push(\"/\");\n    }\n  };\n\n  if (!user) {\n    return <Redirect to=\"/login\" />;\n  }\n\n  return (\n    <div className=\"min-h-screen\">\n      <div className=\"navbar bg-gray-800 p-4 relative z-50\">\n        <div className=\"container mx-auto flex justify-between items-center\">\n          <div className=\"flex items-center\">\n            {user?.isAdmin && (\n              <button\n                onClick={() => history.goBack()}\n                className=\"text-white mr-4 hover:text-gray-300\"\n              >\n                <FontAwesomeIcon icon={faArrowLeft} />\n              </button>\n            )}\n            <button \n              onClick={navigateHome}\n              className=\"logo text-white text-3xl text-bold  flex items-center\"\n            >\n              <FontAwesomeIcon \n                icon={faCar}\n                className=\"mr-2\" \n              />\n              <span>{user?.isAdmin ? \"Admin Panel\" : \"Carzz\"}</span>\n            </button>\n          </div>\n\n          <div className=\"navItems relative\" ref={dropdownRef}>\n            <button \n              className=\"flex items-center gap-2 bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-600 transition-colors focus:outline-none\"\n              onClick={toggleDropdown}\n            >\n              <FontAwesomeIcon icon={faUser} className=\"text-lg\" />\n              <span>{user?.username || 'User'}</span>\n              <FontAwesomeIcon \n                icon={faCaretDown} \n                className={`transition-transform duration-200 ${isOpen ? 'rotate-180' : ''}`}\n              />\n            </button>\n\n            {isOpen && (\n  <div \n    className=\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg overflow-hidden\"\n    style={{ zIndex: 1000 }}\n  >\n    <button \n      onClick={() => handleNavigate(user?.isAdmin ? \"/admin\" : \"/\")}\n      className=\"w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors\"\n    >\n      {user?.isAdmin ? \"Dashboard\" : \"Home\"}\n    </button>\n    {!user?.isAdmin && (\n      <button \n        onClick={() => handleNavigate(\"/userbookings\")}\n        className=\"w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100 transition-colors\"\n      >\n        My Bookings\n      </button>\n    )}\n    <hr className=\"my-1 border-gray-200\" />\n    <button \n      onClick={handleLogout}\n      className=\"w-full text-left px-4 py-2 text-red-600 hover:bg-gray-100 transition-colors\"\n    >\n      Logout\n    </button>\n  </div>\n)}\n          </div>\n        </div>\n      </div>\n      <div className=\"content p-4\">{props.children}</div>\n    </div>\n  );\n}\n\nexport default DefaultLayout;","import React from \"react\";\r\nimport { FaPhoneAlt, FaCar } from \"react-icons/fa\";\r\n\r\nconst About = () => {\r\n  return (\r\n    <section className=\"about-wrapper bg-blue-50 py-10\">\r\n      <div className=\"about-linecontainer\">\r\n        <div className=\"about-line\"></div>\r\n      </div>\r\n      <div className=\"flex flex-col md:flex-row justify-between items-center p-8\">\r\n      <div className=\"flex justify-center mb-8\">\r\n        <img \r\n          src=\"https://www.shutterstock.com/image-photo/man-handing-car-smart-key-600nw-2466586367.jpg\" \r\n          alt=\"Vehicle Rental\" \r\n          className=\"rounded-xl dark:transition dark:grayscale hover:grayscale-0 hover:shadow-2xl\"  \r\n        />\r\n      </div>\r\n        <div className=\"about-right flex flex-col justify-center md:w-1/2\">\r\n        <div className=\"about-left flex items-center mb-6 md:mb-0\">\r\n          <FaCar className=\"text-6xl text-[#846330] mr-4\" />\r\n          <h1 className=\"font-semibold text-[#846330] text-2xl md:text-3xl\">\r\n            About carzz Vehicle Rental\r\n          </h1>\r\n        </div>\r\n          <p className=\"text-[#846330] text-lg mb-4\">\r\n            At carzz Vehicle Rental, we provide a variety of vehicles for all\r\n            your transportation needs. Whether it's for business trips, family\r\n            vacations, or special events, we strive to ensure a seamless and\r\n            enjoyable rental experience. Established in 2010, we have built a\r\n            reputation for excellent service and customer satisfaction, offering\r\n            a fleet of well-maintained vehicles at competitive rates. Our\r\n            dedicated team is here to assist you every step of the way, ensuring\r\n            that your journey is safe, comfortable, and memorable.\r\n          </p>\r\n          <div className=\"about-bottom flex md:flex-row justify-between mt-4\">\r\n            <div className=\"experience text-center\">\r\n              <h1 className=\"p-2 text-5xl text-[#846330]\">12+</h1>\r\n              <p className=\"text-lg text-gray-700\">\r\n                Years of Experience\r\n              </p>\r\n            </div>\r\n            <div className=\"contact flex items-center\">\r\n              <FaPhoneAlt className=\"text-2xl p-4 text-[#846330]\" />\r\n              <p className=\"text-lg text-gray-700\">\r\n                Call Us <br />\r\n                <b className=\"font-medium\">+91 00000 00000</b>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default About;","import React from 'react';\n\nfunction Spinner() {\n    return (\n        <div className=\"spinner flex justify-center items-center min-h-screen\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-blue-500\"></div>\n        </div>\n    );\n}\n\nexport default Spinner;","import React from 'react';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"bg-gray-800 text-white py-6\">\r\n      <div className=\"container mx-auto text-center\">\r\n        <p className=\"text-sm\">\r\n          &copy; {new Date().getFullYear()} Vehicle Rental. All rights reserved.\r\n        </p>\r\n        {/* <div className=\"flex justify-center space-x-4 mt-2\">\r\n          <a href=\"#\" className=\"hover:text-gray-400\">Privacy Policy</a>\r\n          <a href=\"#\" className=\"hover:text-gray-400\">Terms of Service</a>\r\n          <a href=\"#\" className=\"hover:text-gray-400\">Contact Us</a>\r\n        </div> */}\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAllCars } from \"../redux/actions/carsActions\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCar, faLocationDot, faCarSide, faCarRear, faBus, faCalendarDays, faBed } from '@fortawesome/free-solid-svg-icons';\nimport DefaultLayout from '../components/DefaultLayout';\nimport { Link } from 'react-router-dom';\nimport { DateRange } from 'react-date-range'; // Importing DateRange\nimport { format } from 'date-fns'; // Importing format\nimport About from '../components/About';\nimport Spinner from '../components/Spinner'; // Importing Spinner\nimport Footer from '../components/Footer';\nimport { useHistory } from 'react-router-dom'; // Add useHistory\n\nfunction Home() {\n  const dispatch = useDispatch();\n  const history = useHistory(); // Add this\n  const { cars, loading } = useSelector(state => state.carsReducer);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filteredCars, setFilteredCars] = useState([]);\n  const [opendate, setOpendate] = useState(false);\n  const [date, setDate] = useState([{ startDate: new Date(), endDate: new Date(), key: 'selection' }]);\n  const [openOptions, setOpenOptions] = useState(false);\n  const [options, setOptions] = useState({ adult: 1, children: 0, rooms: 1 });\n\n  useEffect(() => {\n    dispatch(getAllCars());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (cars && cars.length > 0) {\n      setFilteredCars(cars);\n      console.log('Filtered cars:', cars); // Log the fetched cars\n    }\n  }, [cars]);\n\n  const handleSearch = (e) => {\n    const term = e.target.value.toLowerCase();\n    setSearchTerm(term);\n    \n    let filtered = cars;\n    \n    // Apply search term filter\n    if (term) {\n      filtered = filtered.filter(car => {\n        return (\n          car.category.toLowerCase().includes(term) ||\n          car.vehicles.some(vehicle => \n            vehicle.name.toLowerCase().includes(term) ||\n            vehicle.brand?.toLowerCase().includes(term)\n          )\n        );\n      });\n    }\n    \n    // Apply date filter\n    const fromDate = date[0].startDate;\n    const toDate = date[0].endDate;\n    \n    filtered = filtered.filter(car => {\n      return car.vehicles.some(vehicle => {\n        // Check if vehicle is available for selected dates\n        const isAvailable = !vehicle.bookedTimeSlots?.some(slot => {\n          const slotFrom = new Date(slot.from);\n          const slotTo = new Date(slot.to);\n          return (fromDate <= slotTo && toDate >= slotFrom);\n        });\n        return isAvailable;\n      });\n    });\n    \n    console.log('Filtering cars:', filtered);\n    setFilteredCars(filtered);\n  };\n\n  const handleOption = (type, operation) => {\n    setOptions(prev => {\n      return {\n        ...prev,\n        [type]: operation === 'i' ? prev[type] + 1 : prev[type] - 1,\n      };\n    });\n  };\n\n  const handleBooking = (carId) => {\n    const user = JSON.parse(localStorage.getItem('user'));\n    if (!user) {\n      history.push('/login');\n      return;\n    }\n    // Pass selected dates as query parameters\n    history.push({\n      pathname: `/booking/${carId}`,\n      search: `?from=${format(date[0].startDate, 'yyyy-MM-dd')}&to=${format(date[0].endDate, 'yyyy-MM-dd')}`\n    });\n  };\n\n  return (\n        <DefaultLayout>\n            <div className=\"bg-blue-800 text-white flex justify-center relative\">\n                <div className=\"w-full max-w-7xl my-5 mb-24\">\n                    <div className=\"flex gap-10 mb-12\">\n                        <div className=\"flex items-center gap-2\">\n                            <FontAwesomeIcon icon={faCar} />\n                            <span>Sedan</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                            <FontAwesomeIcon icon={faCarSide} />\n                            <span>SUV</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                            <FontAwesomeIcon icon={faCarRear} />\n                            <span>Luxury</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                            <FontAwesomeIcon icon={faBus} />\n                            <span>MUV</span>\n                        </div>\n                    </div>\n                    <h1 className=\"text-8xl font-bold mb-2\">\n                        Book your Car now!\n                    </h1>\n                    <p className=\"my-5 tracking-loose kerning-wide\">  \n                        With a lot of Discounts and savings up to <span className='text-bold'>30%</span> and more..\n                    </p>\n                    <Link to=\"/login\">\n                        <button className=\"bg-blue-600 text-white font-medium border-none px-4 py-2 rounded cursor-pointer\">\n                            SignIn/Register\n                        </button>\n                    </Link>\n                    <div className=\"h-14 bg-white border-4 border-yellow-400 flex items-center justify-around py-2 rounded absolute -bottom-7 w-full max-w-7xl\">\n          <div className=\"flex items-center gap-2\">\n            <FontAwesomeIcon icon={faLocationDot} className=\"text-gray-500\" />\n            <input \n              type=\"text\" \n              value={searchTerm}\n              onChange={handleSearch}\n              className=\"border-none outline-none w-64 text-black\" \n              placeholder=\"Search Cars or Brands Eg.Tata\" \n            />\n          </div>\n                \n                        <div className=\"flex items-center gap-2 relative\">\n                            <FontAwesomeIcon icon={faCalendarDays} className=\"text-gray-500\" />\n                            <span \n                                onClick={() => setOpendate(!opendate)}\n                                className=\"text-gray-400 cursor-pointer\">\n                                {`${format(date[0].startDate, \"dd/MM/yyyy\")} to \n                                ${format(date[0].endDate, \"dd/MM/yyyy\")}`}\n                            </span>\n                            {opendate && (\n                                <div className=\"absolute top-12 z-10\">\n                                    <DateRange\n                                        editableDateInputs={true}\n                                        onChange={item => setDate([item.selection])}\n                                        moveRangeOnFirstSelection={false}\n                                        ranges={date}\n                                    />\n                                </div>\n                            )}\n                        </div>\n                        <div className=\"flex items-center gap-2 relative\">\n                            <FontAwesomeIcon icon={faBed} className=\"text-gray-500\" />\n                            <span \n                                onClick={() => setOpenOptions(!openOptions)}\n                                className=\"text-gray-400 cursor-pointer\">\n                                {`${options.adult} Adults - ${options.children} Children - ${options.rooms} Cars`}\n                            </span>\n                            {openOptions && (\n                                <div className=\"absolute top-12 bg-white text-gray-600 rounded shadow-lg z-10\">\n                                    <div className=\"w-52 flex justify-between m-2\">\n                                        <span className=\"text-gray-800\">Adults</span>\n                                        <div className=\"flex items-center gap-2 text-xs text-black\">\n                                            <button \n                                                className=\"w-8 h-8 border border-blue-600 text-blue-600 cursor-pointer bg-white disabled:cursor-not-allowed\"\n                                                disabled={options.adult <= 1}\n                                                onClick={() => handleOption(\"adult\", \"d\")}>-</button>\n                                            <span>{options.adult}</span>\n                                            <button \n                                                className=\"w-8 h-8 border border-blue-600 text-blue-600 cursor-pointer bg-white\"\n                                                onClick={() => handleOption(\"adult\", \"i\")}>+</button>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"w-52 flex justify-between m-2\">\n                                        <span className=\"text-gray-800\">Children</span>\n                                        <div className=\"flex items-center gap-2 text-xs text-black\">\n                                            <button \n                                                className=\"w-8 h-8 border border-blue-600 text-blue-600 cursor-pointer bg-white disabled:cursor-not-allowed\"\n                                                disabled={options.children <= 0}\n                                                onClick={() => handleOption(\"children\", \"d\")}>-</button>\n                                            <span>{options.children}</span>\n                                            <button \n                                                className=\"w-8 h-8 border border-blue-600 text-blue-600 cursor-pointer bg-white\"\n                                                onClick={() => handleOption(\"children\", \"i\")}>+</button>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"w-52 flex justify-between m-2\">\n                                        <span className=\"text-gray-800\">Cars</span>\n                                        <div className=\"flex items-center gap-2 text-xs text-black\">\n                                            <button \n                                                className=\"w-8 h-8 border border-blue-600 text-blue-600 cursor-pointer bg-white disabled:cursor-not-allowed\"\n                                                disabled={options.rooms <= 1}\n                                                onClick={() => handleOption(\"rooms\", \"d\")}>-</button>\n                                            <span>{options.rooms}</span>\n                                            <button \n                                                className=\"w-8 h-8 border border-blue-600 text-blue-600 cursor-pointer bg-white\"\n                                                onClick={() => handleOption(\"rooms\", \"i\")}>+</button>\n                                        </div>\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                        <button \n                          className=\"bg-blue-600 text-white font-medium px-4 py-2 cursor-pointer\"\n                          onClick={() => {\n                            console.log('Search button clicked');\n                            console.log('Current search term:', searchTerm);\n                            console.log('Selected dates:', date);\n                            // Trigger search with current filters\n                            handleSearch({ target: { value: searchTerm } });\n                            console.log('Filtered cars:', filteredCars);\n                          }}\n                        >\n                            Search\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            {loading && <Spinner />}\n            \n<div className=\"flex justify-center px-4 py-8 mt-16\">\n  <div className=\"grid lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1 gap-6 w-full max-w-7xl\">\n  {filteredCars.slice(0, 3).map(car => (\n      <div key={car._id} className=\"bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300\">        <img \n          src={car.vehicles[0].image} \n          alt={car.vehicles[0].name} \n          className=\"w-full h-48 object-cover rounded-t-lg\"\n        />\n        <div className=\"p-4\">\n          <div className=\"flex flex-col gap-2\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-800\">{car.vehicles[0].name}</h3> \n              <p className=\"text-gray-600\">₹{car.vehicles[0].rentPerHour}/hour</p> \n            </div>\n            <div className=\"flex flex-col gap-1 text-sm text-gray-600\">\n              <p>Fuel Type: {car.vehicles[0].fuelType}</p> \n              <p>Capacity: {car.vehicles[0].capacity} persons</p> \n              <p>Transmission: {car.vehicles[0].transmission}</p> \n            </div>\n            <button \n          onClick={() => handleBooking(car._id)}\n          className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium px-6 py-2 rounded transition-all\"\n        >\n          Book Now\n        </button>\n          </div>\n        </div>\n      </div>\n    ))}\n  </div>\n</div>\n      <About />\n      <Footer />\n    </DefaultLayout>\n  );\n}\n\nexport default Home;\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport DefaultLayout from \"../components/DefaultLayout\";\nimport { deleteCar, getAllCars } from \"../redux/actions/carsActions\";\nimport { Link } from \"react-router-dom\";\nimport Spinner from \"../components/Spinner\";\nimport { FaTrashAlt, FaEdit } from \"react-icons/fa\";\n\nfunction AdminHome() {\n  const user = JSON.parse(localStorage.getItem('user'));\n  console.log('AdminHome mounted, user:', user); \n  const { cars } = useSelector((state) => state.carsReducer);\n  const { loading } = useSelector((state) => state.alertsReducer);\n  const [totalCars, setTotalcars] = useState([]);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getAllCars());\n  }, [dispatch]);\n\n  useEffect(() => {\n    setTotalcars(cars);\n  }, [cars]);\n\n  const confirmDelete = (carId) => {\n    if (window.confirm(\"Are you sure to delete this car?\")) {\n      dispatch(deleteCar({ carid: carId }));\n    }\n  };\n\n  return (\n    <DefaultLayout>\n      <div className=\"flex justify-center mt-2\">\n        <div className=\"lg:w-5/6 sm:w-full\">\n          <div className=\"flex justify-between items-center\">\n            <h3 className=\"text-bold text-2xl \">Admin Panel</h3>\n            <Link \n  to=\"/addcar\" \n  className=\"btn1 bg-blue-200 p-2 rounded-lg hover:bg-blue-300 transition-colors duration-200 inline-block\"\n>\n  ADD CAR\n</Link>\n          </div>\n        </div>\n      </div>\n\n      {loading && <Spinner />}\n\n      <div className=\"flex justify-between align-middle mt-10 \">\n        <div className=\"grid lg:grid-cols-5 sm:grid-cols-1 gap-4 \">\n        {totalCars.map((car) => (\n  <div key={car._id} className=\"car p-2 bs1\">\n    {car.vehicles && car.vehicles[0] && (\n      <>\n        <img \n          src={car.vehicles[0].image} \n          className=\"carimg rounded-lg h-40 w-80\" \n          alt={car.vehicles[0].name} \n        />\n\n        <div className=\"car-content flex justify-between items-center mt-2 \">\n          <div className=\"text-left pl-2\">\n            <p>{car.vehicles[0].name}</p>\n            <p>Rent Per Hour {car.vehicles[0].rentPerHour} /-</p>\n            <p className=\"text-sm text-gray-600\">Category: {car.category}</p>\n          </div>\n\n          <div className=\"mr-4 flex items-center translate-x-5\">\n            <Link to={`/editcar/${car._id}`}>\n              <FaEdit className=\"mr-3 text-green-500 cursor-pointer\" />\n            </Link>\n\n            <FaTrashAlt\n              className=\"text-red-500 cursor-pointer\"\n              onClick={() => confirmDelete(car._id)}\n            />\n          </div>\n        </div>\n      </>\n    )}\n  </div>\n))}\n        </div>\n      </div>\n    </DefaultLayout>\n  );\n}\n\nexport default AdminHome;","import axios from 'axios';\n// import { alert } from '../../utils/alert';\nimport { toast } from 'react-toastify';\n\naxios.defaults.baseURL = 'http://localhost:5000';\n\nexport const userLogin = (values) => async dispatch => {\n  dispatch({ type: 'LOADING', payload: true });\n  try {\n      // For admin login, bypass backend call\n      if (values.username === 'admin' && values.password === 'admin123') {\n          const adminUser = {\n              username: 'admin',\n              isAdmin: true,\n              _id: 'admin123' // Add a dummy ID for admin\n          };\n          localStorage.setItem('user', JSON.stringify(adminUser));\n          dispatch({ type: 'LOADING', payload: false });\n          return adminUser;\n      }\n\n      // Regular user login\n      const response = await axios.post('http://localhost:5000/api/users/login', values);\n      localStorage.setItem('user', JSON.stringify(response.data));\n      dispatch({ type: 'LOADING', payload: false });\n      return response.data;\n  } catch (error) {\n      console.error('Login error:', error);\n      dispatch({ type: 'LOADING', payload: false });\n      throw error;\n  }\n};\n\nexport const userRegister = (values) => async dispatch => {\n  dispatch({ type: 'LOADING', payload: true });\n  try {\n      const response = await axios.post('http://localhost:5000/api/users/register', values);\n      dispatch({ type: 'LOADING', payload: false });\n      toast.success('Registration successful! Please login.');\n      return response.data;\n  } catch (error) {\n      console.error('Registration error:', error);\n      dispatch({ type: 'LOADING', payload: false });\n      toast.error(error.response?.data?.message || 'Registration failed');\n      throw error;\n  }\n};","import React from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { userLogin } from '../redux/actions/userActions'\nimport { toast } from 'react-toastify'\nimport AOS from 'aos'\nimport Spinner from '../components/Spinner'\nimport 'aos/dist/aos.css'\nimport 'react-toastify/dist/ReactToastify.css'\n\nAOS.init()\n\nfunction Login() {\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const { loading } = useSelector(state => state.alertsReducer);\n\n    async function onFinish(event) {\n        event.preventDefault();\n        try {\n            const formData = new FormData(event.target);\n            const values = Object.fromEntries(formData.entries());\n            \n            // Check for admin credentials\n            if (values.username === 'admin' && values.password === 'admin123') {\n                const response = await dispatch(userLogin(values));\n                console.log('Admin login response:', response); // Debug log\n                if (response && response.isAdmin) {\n                    toast.success('Welcome Admin!');\n                    history.push('/admin'); // Remove setTimeout\n                }\n            } else {\n                const response = await dispatch(userLogin(values));\n                console.log('User login response:', response); // Debug log\n                if (response) {\n                    toast.success('Login successful!');\n                    history.push('/'); // Remove setTimeout\n                }\n            }\n        } catch (error) {\n            console.error('Login failed:', error);\n            toast.error(error.response?.data?.message || 'Invalid credentials');\n        }\n    }\n    \n    return (\n        <div className='login'>\n            {loading && (<Spinner />)}\n            <div className=\"justify-center items-center min-h-screen\">\n                <div className=\"lg:w-2/3 w-full relative\">\n                    {/* <img\n                        className='w-full'\n                        data-aos='slide-right'\n                        data-aos-duration='1500'\n                        alt=\"Car rental login\"\n                        src=\"https://images.unsplash.com/photo-1532268116505-8c59cc37d2e6?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=864&q=80\"\n                    /> */}\n                </div>\n                <div className=\"justify-center items-center\">\n                    <form className='bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4' onSubmit={onFinish}>\n                        <h1 className='text-2xl font-bold mb-4'>Carzz</h1>\n                        <h1 className='text-xl mb-4'>Login</h1>\n                        <hr className='mb-4' />\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"username\">\n                                Username\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"username\"\n                                name=\"username\"\n                                type=\"text\"\n                                required\n                            />\n                        </div>\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"password\">\n                                Password\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"password\"\n                                name=\"password\"\n                                type=\"password\"\n                                required\n                            />\n                        </div>\n                        <button className='bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-2' type=\"submit\">\n                            Login\n                        </button>\n                        <hr className='my-4' />\n                        <Link to='/register' className='text-blue-500 hover:text-blue-700'>\n                            Click Here to Register\n                        </Link>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Login","export const GET_ALL_BOOKINGS = 'GET_ALL_BOOKINGS';\r\nexport const SET_LOADING = 'LOADING';","import axios from 'axios';\nimport { GET_ALL_BOOKINGS, SET_LOADING } from '../types';\n\nexport const getAllBookings = () => async (dispatch) => {\n  dispatch({ type: SET_LOADING, payload: true });\n\n  try {\n    const response = await axios.get('/api/bookings/getallbookings');\n    dispatch({ type: GET_ALL_BOOKINGS, payload: response.data });\n    dispatch({ type: SET_LOADING, payload: false });\n  } catch (error) {\n    console.error('Error fetching bookings:', error);\n    dispatch({ type: SET_LOADING, payload: false });\n  }\n};\n\nexport const bookCar = (reqObj) => async (dispatch) => {\n  dispatch({ type: SET_LOADING, payload: true });\n\n  try {\n    const response = await axios.post('/api/bookings/bookcar', reqObj);\n    dispatch({ type: SET_LOADING, payload: false });\n    return response.data;\n  } catch (error) {\n    console.error('Error booking car:', error);\n    dispatch({ type: SET_LOADING, payload: false });\n    throw error;\n  }\n};","import React, { useEffect, useState } from \"react\";\nimport DefaultLayout from \"../components/DefaultLayout\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllBookings } from \"../redux/actions/bookingActions\";\nimport Spinner from '../components/Spinner';\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\n\nfunction UserBookings() {\n  const dispatch = useDispatch();\n  const { bookings } = useSelector((state) => state.bookingsReducer);\n  const { loading } = useSelector((state) => state.alertsReducer);\n  const [userBookings, setUserBookings] = useState([]);\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n\n  useEffect(() => {\n    // Fetch bookings only if we don't have them\n    if (!bookings?.length) {\n      dispatch(getAllBookings());\n    }\n  }, [dispatch, bookings?.length]);\n\n  useEffect(() => {\n    // Filter bookings for the current user only when bookings or user changes\n    if (bookings && user) {\n      console.log(\"All bookings:\", bookings);\n      console.log(\"Current user ID:\", user._id);\n      const filteredBookings = bookings.filter(booking => {\n        console.log(\"Booking user ID:\", booking.user);\n        return booking.user._id === user._id;\n      });\n      console.log(\"Filtered bookings:\", filteredBookings);\n      // Only update state if the filtered bookings have changed\n      if (JSON.stringify(filteredBookings) !== JSON.stringify(userBookings)) {\n        setUserBookings(filteredBookings);\n      }\n    }\n  }, [bookings, user, userBookings]);\n\n  return (\n    <DefaultLayout>\n      {loading && (<Spinner />)}\n      <div className=\"container mx-auto px-4 py-8\">\n        <h3 className=\"text-2xl font-bold text-center mb-8\">My Bookings</h3>\n\n        {(!userBookings || userBookings.length === 0) ? (\n          <div className=\"text-center\">\n            <div className=\"text-gray-600 mb-4\">\n              No bookings found. Start booking cars now!\n            </div>\n            <Link \n              to=\"/\" \n              className=\"inline-block bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700\"\n            >\n              Browse Cars\n            </Link>\n          </div>\n        ) : (\n          <div className=\"max-w-4xl mx-auto\">\n            {userBookings.map((booking) => (\n              <div key={booking._id} className=\"bg-white shadow-lg rounded-lg mb-6 overflow-hidden\">\n                <div className=\"p-6\">\n                  <div className=\"grid md:grid-cols-3 gap-6\">\n                    {/* Car Details */}\n                    <div>\n                      <h4 className=\"font-bold text-lg mb-2\">{booking.car?.vehicles?.[0]?.name || 'Car'}</h4>\n                      <img \n                        src={booking.car?.vehicles?.[0]?.image} \n                        alt={booking.car?.vehicles?.[0]?.name || 'Car'}\n                        className=\"w-full h-40 object-cover rounded-lg\"\n                      />\n                    </div>\n\n                    {/* Booking Details */}\n                    <div className=\"space-y-2\">\n                      <div className=\"text-gray-600\">\n                        <p>From: {moment(booking.bookedTimeSlots?.from).format('MMM DD YYYY, HH:mm')}</p>\n                        <p>To: {moment(booking.bookedTimeSlots?.to).format('MMM DD YYYY, HH:mm')}</p>\n                        <p>Total Hours: {booking.totalHours}</p>\n                      </div>\n                    </div>\n\n                    {/* Payment Details */}\n                    <div className=\"space-y-2\">\n                      <p className=\"font-semibold\">₹{booking.totalAmount}</p>\n                      <p className=\"text-sm text-gray-500\">Transaction ID:</p>\n                      <p className=\"text-xs font-mono\">{booking.transactionId}</p>\n                      {booking.driverRequired && (\n                        <p className=\"text-sm text-blue-600\">Driver Included</p>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </DefaultLayout>\n  );\n}\n\nexport default UserBookings;","\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport DefaultLayout from \"../components/DefaultLayout\";\r\nimport Spinner from \"../components/Spinner\";\r\nimport { getAllCars } from \"../redux/actions/carsActions\";\r\nimport moment from \"moment\";\r\nimport { bookCar } from \"../redux/actions/bookingActions\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { Elements, CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\n\r\nconst PaymentForm = ({ totalAmount, car, driver, from, to, totalHours, dispatch, history, setPaymentProcessing }) => {\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setPaymentProcessing(true);\r\n    \r\n    try {\r\n      const response = await fetch(\"/api/payments/create-payment-intent\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          amount: totalAmount * 100,\r\n        }),\r\n      });\r\n\r\n      const { clientSecret } = await response.json();\r\n\r\n      // For dummy payments, just proceed with success\r\n      if (clientSecret.includes('dummy')) {\r\n        // Simulate successful payment\r\n        const result = {\r\n          paymentIntent: {\r\n            status: \"succeeded\",\r\n            id: `pi_dummy_${Date.now()}`\r\n          }\r\n        };\r\n        \r\n        const reqObj = {\r\n          user: JSON.parse(localStorage.getItem(\"user\"))._id,\r\n          car: car._id,\r\n          totalHours,\r\n          totalAmount,\r\n          driverRequired: driver,\r\n          bookedTimeSlots: {\r\n            from,\r\n            to,\r\n          },\r\n          transactionId: result.paymentIntent.id,\r\n        };\r\n        \r\n        const bookingResponse = await dispatch(bookCar(reqObj));\r\n        if (bookingResponse) {\r\n          history.push('/userbookings');\r\n        }\r\n      } else {\r\n        const result = await stripe.confirmCardPayment(clientSecret, {\r\n          payment_method: {\r\n            card: elements.getElement(CardElement),\r\n            billing_details: {\r\n              name: JSON.parse(localStorage.getItem(\"user\")).name,\r\n            },\r\n          },\r\n        });\r\n\r\n        if (result.error) {\r\n          alert(result.error.message);\r\n          setPaymentProcessing(false);\r\n        } else if (result.paymentIntent.status === \"succeeded\") {\r\n          const reqObj = {\r\n            user: JSON.parse(localStorage.getItem(\"user\"))._id,\r\n            car: car._id,\r\n            totalHours,\r\n            totalAmount,\r\n            driverRequired: driver,\r\n            bookedTimeSlots: {\r\n              from,\r\n              to,\r\n            },\r\n            transactionId: result.paymentIntent.id,\r\n          };\r\n          const bookingResponse = await dispatch(bookCar(reqObj));\r\n          if (bookingResponse) {\r\n            history.push('/userbookings');\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert(\"Payment failed. Please try again.\");\r\n      setPaymentProcessing(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {!process.env.REACT_APP_STRIPE_PUBLIC_KEY && (\r\n        <div className=\"mb-4 p-3 bg-gray-100 rounded\">\r\n          <p className=\"text-gray-600\">Payment processing in dummy mode</p>\r\n        </div>\r\n      )}\r\n      {process.env.REACT_APP_STRIPE_PUBLIC_KEY && (\r\n        <div className=\"mb-4\">\r\n          <CardElement \r\n            options={{\r\n              style: {\r\n                base: {\r\n                  fontSize: '16px',\r\n                  color: '#424770',\r\n                  '::placeholder': {\r\n                    color: '#aab7c4',\r\n                  },\r\n                },\r\n                invalid: {\r\n                  color: '#9e2146',\r\n                },\r\n              },\r\n            }}\r\n          />\r\n        </div>\r\n      )}\r\n      <button \r\n        type=\"submit\" \r\n        className=\"btn1 bg-blue-500 p-2 mt-4 w-full\"\r\n        disabled={process.env.REACT_APP_STRIPE_PUBLIC_KEY ? !stripe : false}\r\n      >\r\n        Pay Now\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nfunction BookingCar({ match }) {\r\n  const { cars } = useSelector((state) => state.carsReducer);\r\n  const { loading } = useSelector((state) => state.alertsReducer);\r\n  const [car, setcar] = useState({});\r\n  const dispatch = useDispatch();\r\n  const history = useHistory(); // Using useHistory\r\n  const [from, setFrom] = useState();\r\n  const [to, setTo] = useState();\r\n  const [totalHours, setTotalHours] = useState(0);\r\n  const [driver, setdriver] = useState(false);\r\n  const [totalAmount, setTotalAmount] = useState(0);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [, setPaymentProcessing] = useState(false);\r\n\r\nconsole.log(\"Match Object:\", match); // Log the entire match object\r\nconsole.log(\"Car ID from params:\", match.params.carid); // Log the car ID from params\r\nconsole.log(\"Cars from Redux state:\", cars); // Log the cars from Redux state\r\n\r\n  useEffect(() => {\r\n    if (cars.length === 0) {\r\n      dispatch(getAllCars());\r\n    } else {\r\n      console.log(\"Searching for car with ID:\", match.params.carid);\r\n      const foundCar = cars.find((o) => o._id === match.params.carid);\r\n      if (foundCar) {\r\n        console.log(\"Found car:\", foundCar);\r\n        setcar(foundCar);\r\n      } else {\r\n        console.error(\"Car not found for ID:\", match.params.carid);\r\n        console.log(\"Available cars:\", cars);\r\n      }\r\n    }\r\n  }, [cars, dispatch, match.params.carid]);\r\n\r\n  useEffect(() => {\r\n    const baseAmount = totalHours * (car.vehicles?.[0]?.rentPerHour || 0); // Accessing rentPerHour from vehicles array\r\n    setTotalAmount(driver ? baseAmount + (30 * totalHours) : baseAmount);\r\n  }, [driver, totalHours, car.vehicles]);\r\n\r\n  function selectTimeSlots(values) {\r\n    setFrom(moment(values[0]).format(\"MMM DD yyyy HH:mm\"));\r\n    setTo(moment(values[1]).format(\"MMM DD yyyy HH:mm\"));\r\n\r\n    setTotalHours(values[1].diff(values[0], \"hours\"));\r\n  }\r\n\r\n  return (\r\n    <DefaultLayout>\r\n      {loading && <Spinner />}\r\n      <div className=\"flex justify-center items-center\" style={{ minHeight: \"90vh\" }}>\r\n        <div className=\"lg:w-1/2 sm:w-full p-3\">\r\n          {car.vehicles && car.vehicles[0]?.image && <img src={car.vehicles[0].image} className=\"carimg2 bs1 w-full\" alt={car.vehicles[0].name || 'Car'} />}\r\n        </div>\r\n\r\n        <div className=\"lg:w-1/2 sm:w-full text-right p-3\">\r\n          <div className=\"border-b border-gray-300 mb-4\">\r\n            <h3 className=\"text-xl\">Car Info</h3>\r\n          </div>\r\n          <div className=\"text-right\">\r\n            <p>{(car.vehicles && car.vehicles[0]?.name) || 'Car not found'}</p>\r\n            <p>{(car.vehicles && car.vehicles[0]?.rentPerHour) || 'N/A'} Rent Per hour /-</p>\r\n            <p>Fuel Type : {(car.vehicles && car.vehicles[0]?.fuelType) || 'N/A'}</p>\r\n            <p>Max Persons : {(car.vehicles && car.vehicles[0]?.capacity) || 'N/A'}</p>\r\n          </div>\r\n\r\n          <div className=\"border-b border-gray-300 my-4\">\r\n            <h3 className=\"text-xl\">Select Time Slots</h3>\r\n          </div>\r\n          <input\r\n            type=\"datetime-local\"\r\n            className=\"block w-full mb-2 p-2 border rounded\"\r\n            onChange={(e) => selectTimeSlots([moment(e.target.value), moment(to)])}\r\n          />\r\n          <input\r\n            type=\"datetime-local\"\r\n            className=\"block w-full mb-2 p-2 border rounded\"\r\n            onChange={(e) => selectTimeSlots([moment(from), moment(e.target.value)])}\r\n          />\r\n          <button\r\n            className=\"btn1 mt-2 underline \"\r\n            onClick={() => {\r\n              setShowModal(true);\r\n            }}\r\n          >\r\n            See Booked Slots\r\n          </button>\r\n          {from && to && (\r\n            <div>\r\n              <p>\r\n                Total Hours : <b>{totalHours}</b>\r\n              </p>\r\n              <p>\r\n                Rent Per Hour : <b>{(car.vehicles && car.vehicles[0]?.rentPerHour)}</b>\r\n              </p>\r\n              <label className=\"inline-flex items-center mt-3\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"form-checkbox h-5 w-5 text-gray-600\"\r\n                  onChange={(e) => setdriver(e.target.checked)}\r\n                />\r\n                <span className=\"ml-2 text-gray-700\">Driver Required</span>\r\n              </label>\r\n\r\n              <h3>Total Amount : {totalAmount}</h3>\r\n              <Elements stripe={stripePromise}>\r\n                <PaymentForm \r\n                  totalAmount={totalAmount}\r\n                  car={car}\r\n                  driver={driver}\r\n                  from={from}\r\n                  to={to}\r\n                  totalHours={totalHours}\r\n                  dispatch={dispatch}\r\n                  history={history}\r\n                  setPaymentProcessing={setPaymentProcessing}\r\n                />\r\n              </Elements>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {car.vehicles && car.vehicles[0]?.name && (\r\n          <div className={`modal ${showModal ? 'block' : 'hidden'}`}>\r\n            <div className=\"modal-content p-4\">\r\n              <h3 className=\"text-xl mb-4\">Booked time slots</h3>\r\n              {car.bookedTimeSlots && car.bookedTimeSlots.map((slot) => (\r\n                <button key={slot.from} className=\"btn1 mt-2\">\r\n                  {slot.from} - {slot.to}\r\n                </button>\r\n              ))}\r\n              <div className=\"text-right mt-5\">\r\n                <button\r\n                  className=\"btn1\"\r\n                  onClick={() => {\r\n                    setShowModal(false);\r\n                  }}\r\n                >\r\n                  CLOSE\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </DefaultLayout>\r\n\r\n\r\n\r\n  );\r\n}\r\n\r\n// Initialize Stripe only if we're not in dummy mode\r\nconst stripePromise = process.env.REACT_APP_STRIPE_PUBLIC_KEY ? \r\n  loadStripe(process.env.REACT_APP_STRIPE_PUBLIC_KEY) : \r\n  Promise.resolve(null);\r\n\r\nexport default BookingCar;\r\n","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport DefaultLayout from '../components/DefaultLayout'\nimport Spinner from '../components/Spinner'\nimport { addCar } from '../redux/actions/carsActions'\n\nfunction AddCar() {\n    const dispatch = useDispatch()\n    const { loading } = useSelector(state => state.alertsReducer)\n\n    function onFinish(event) {\n        event.preventDefault();\n        const formData = new FormData(event.target);\n        const values = Object.fromEntries(formData.entries());\n        values.bookedTimeSlots = [];\n\n        dispatch(addCar(values))\n        console.log(values)\n    }\n\n    return (\n        <DefaultLayout>\n            {loading && (<Spinner />)}\n            <div className=\"flex justify-center mt-5\">\n                <div className=\"lg:w-1/2 sm:w-full p-2\">\n                    <form className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\" onSubmit={onFinish}>\n                        <h3 className=\"text-xl mb-4\">Add New Car</h3>\n                        <hr className=\"mb-4\" />\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"transmission\">\n                                Transmission\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"transmission\"\n                                name=\"transmission\"\n                                type=\"text\"\n                                required\n                            />\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"name\">\n                                Car name\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"name\"\n                                name=\"name\"\n                                type=\"text\"\n                                required\n                            />\n                        </div>\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"image\">\n                                Image url\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"image\"\n                                name=\"image\"\n                                type=\"text\"\n                                required\n                            />\n                        </div>\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"rentPerHour\">\n                                Rent per hour\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"rentPerHour\"\n                                name=\"rentPerHour\"\n                                type=\"text\"\n                                required\n                            />\n                        </div>\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"capacity\">\n                                Capacity\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"capacity\"\n                                name=\"capacity\"\n                                type=\"text\"\n                                required\n                            />\n                        </div>\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"fuelType\">\n                                Fuel Type\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"fuelType\"\n                                name=\"fuelType\"\n                                type=\"text\"\n                                required\n                            />\n                        </div>\n                        <div className=\"text-right\">\n                            <button className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" type=\"submit\">\n                                ADD CAR\n                            </button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </DefaultLayout>\n    )\n}\n\nexport default AddCar\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport DefaultLayout from \"../components/DefaultLayout\";\nimport Spinner from \"../components/Spinner\";\nimport { editCar, getAllCars } from \"../redux/actions/carsActions\";\n\nfunction EditCar({ match }) {\n  const { cars } = useSelector((state) => state.carsReducer);\n  const dispatch = useDispatch();\n  const { loading } = useSelector((state) => state.alertsReducer);\n  const [car, setcar] = useState();\n  const [totalcars, settotalcars] = useState([]);\n\n  useEffect(() => {\n    if (cars.length === 0) {\n      dispatch(getAllCars());\n    } else {\n      settotalcars(cars);\n      setcar(cars.find((o) => o._id === match.params.carid));\n    }\n  }, [cars, dispatch, match.params.carid]);\n\n  function onFinish(event) {\n    event.preventDefault();\n    const formData = new FormData(event.target);\n    const values = Object.fromEntries(formData.entries());\n    values._id = car._id;\n\n    // Create the updated vehicle data structure\n    const updatedCar = {\n      _id: car._id,\n      category: values.category,\n      vehicles: [{\n        name: values.name,\n        image: values.image,\n        rentPerHour: values.rentPerHour,\n        capacity: values.capacity,\n        fuelType: values.fuelType,\n      }]\n    };\n\n    dispatch(editCar(updatedCar));\n  }\n\n  return (\n    <DefaultLayout>\n      {loading && <Spinner />}\n      <div className=\"flex justify-center mt-5\">\n        <div className=\"lg:w-1/2 sm:w-full p-2\">\n          {totalcars.length > 0 && car && car.vehicles && car.vehicles[0] && (\n            <form\n              className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\"\n              onSubmit={onFinish}\n            >\n              <h3 className=\"text-xl mb-4\">Edit Car</h3>\n              <hr className=\"mb-4\" />\n              <div className=\"mb-4\">\n                <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"category\">\n                  Category\n                </label>\n                <input\n                  className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                  id=\"category\"\n                  name=\"category\"\n                  type=\"text\"\n                  defaultValue={car.category}\n                  required\n                />\n              </div>\n              <div className=\"mb-4\">\n                <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"name\">\n                  Car name\n                </label>\n                <input\n                  className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                  id=\"name\"\n                  name=\"name\"\n                  type=\"text\"\n                  defaultValue={car.vehicles[0].name}\n                  required\n                />\n              </div>\n              <div className=\"mb-4\">\n                <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"image\">\n                  Image url\n                </label>\n                <input\n                  className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                  id=\"image\"\n                  name=\"image\"\n                  type=\"text\"\n                  defaultValue={car.vehicles[0].image}\n                  required\n                />\n              </div>\n              <div className=\"mb-4\">\n                <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"rentPerHour\">\n                  Rent per hour\n                </label>\n                <input\n                  className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                  id=\"rentPerHour\"\n                  name=\"rentPerHour\"\n                  type=\"text\"\n                  defaultValue={car.vehicles[0].rentPerHour}\n                  required\n                />\n              </div>\n              <div className=\"mb-4\">\n                <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"capacity\">\n                  Capacity\n                </label>\n                <input\n                  className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                  id=\"capacity\"\n                  name=\"capacity\"\n                  type=\"text\"\n                  defaultValue={car.vehicles[0].capacity}\n                  required\n                />\n              </div>\n              <div className=\"mb-4\">\n                <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"fuelType\">\n                  Fuel Type\n                </label>\n                <input\n                  className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                  id=\"fuelType\"\n                  name=\"fuelType\"\n                  type=\"text\"\n                  defaultValue={car.vehicles[0].fuelType}\n                  required\n                />\n              </div>\n              <div className=\"text-right\">\n                <button className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" type=\"submit\">\n                  Edit CAR\n                </button>\n              </div>\n            </form>\n          )}\n        </div>\n      </div>\n    </DefaultLayout>\n  );\n}\n\nexport default EditCar;","import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { userRegister } from '../redux/actions/userActions';\nimport Spinner from '../components/Spinner';\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction Register() {\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const { loading } = useSelector(state => state.alertsReducer);\n\n    async function onFinish(event) {\n        event.preventDefault();\n        try {\n            const formData = new FormData(event.target);\n            const values = Object.fromEntries(formData.entries());\n            \n            await dispatch(userRegister(values));\n            history.push('/login');\n        } catch (error) {\n            console.error('Registration failed:', error);\n        }\n    }\n\n    return (\n        <div className='register'>\n            {loading && (<Spinner />)}\n            <div className=\"justify-center items-center min-h-screen\">\n                <div className=\"justify-center items-center\">\n                    <form className='bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4' onSubmit={onFinish}>\n                        <h1 className='text-2xl font-bold mb-4'>Carzz</h1>\n                        <h1 className='text-xl mb-4'>Register</h1>\n                        <hr className='mb-4' />\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"username\">\n                                Username\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"username\"\n                                name=\"username\"\n                                type=\"text\"\n                                required\n                            />\n                        </div>\n                        <div className=\"mb-4\">\n                            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"password\">\n                                Password\n                            </label>\n                            <input\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                                id=\"password\"\n                                name=\"password\"\n                                type=\"password\"\n                                required\n                            />\n                        </div>\n                        <div className=\"mb-4\">\n              <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"cpassword\">\n                Confirm Password\n              </label>\n              <input\n                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                id=\"cpassword\"\n                name=\"cpassword\"\n                type=\"password\"\n                required\n              />\n            </div>\n                        <button className='bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-2' type=\"submit\">\n                            Register\n                        </button>\n                        <hr className='my-4' />\n                        <Link to='/login' className='text-blue-500 hover:text-blue-700'>\n                            Already have an account? Login\n                        </Link>\n                    </form>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Register;","\nimport React from 'react';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport Home from './pages/Home';\nimport AdminHome from './pages/AdminHome';\nimport Login from './pages/Login';\nimport UserBookings from './pages/UserBookings';\nimport BookingCar from './pages/BookingCar';\nimport AddCar from './pages/AddCar'; // Make sure this import exists\nimport EditCar from './pages/EditCar'; // Make sure this import exists\nimport Register from './pages/Register';\n\nfunction App() {\n  const [user, setUser] = React.useState(() => {\n    try {\n      return JSON.parse(localStorage.getItem('user')) || null;\n    } catch (error) {\n      console.error('Error parsing user from localStorage:', error);\n      return null;\n    }\n  });\n\n  // Update user state when localStorage changes\n  React.useEffect(() => {\n    const handleStorageChange = () => {\n      try {\n        setUser(JSON.parse(localStorage.getItem('user')) || null);\n      } catch (error) {\n        console.error('Error parsing user from localStorage:', error);\n        setUser(null);\n      }\n    };\n    window.addEventListener('storage', handleStorageChange);\n    return () => window.removeEventListener('storage', handleStorageChange);\n  }, []);\n\n\n  // Protected Route Component\n  const ProtectedRoute = ({ component: Component, isAdmin, ...rest }) => {\n    if (!user) {\n      return <Redirect to=\"/login\" />;\n    }\n\n    return (\n      <Route\n        {...rest}\n        render={props => {\n          if (isAdmin && !user.isAdmin) {\n            return <Redirect to=\"/\" />;\n          }\n          if (!isAdmin && user.isAdmin) {\n            return <Redirect to=\"/admin\" />;\n          }\n          return <Component {...props} />;\n        }}\n      />\n    );\n  };\n\n  return (\n    <Router>\n<Switch>\n        {/* Public Routes */}\n        <Route \n          exact \n          path=\"/login\" \n          render={() => (user ? <Redirect to={user.isAdmin ? \"/admin\" : \"/\"} /> : <Login />)}\n        />\n        <Route \n          exact \n          path=\"/register\" \n          render={() => (user ? <Redirect to={user.isAdmin ? \"/admin\" : \"/\"} /> : <Register />)}\n        />\n\n        {/* Admin Routes */}\n        <ProtectedRoute exact path=\"/admin\" component={AdminHome} isAdmin={true} />\n        <ProtectedRoute exact path=\"/addcar\" component={AddCar} isAdmin={true} />\n        <ProtectedRoute exact path=\"/editcar/:carid\" component={EditCar} isAdmin={true} />\n\n        {/* User Routes */}\n        <ProtectedRoute exact path=\"/\" component={Home} isAdmin={false} />\n        <ProtectedRoute exact path=\"/userbookings\" component={UserBookings} isAdmin={false} />\n        <ProtectedRoute exact path=\"/booking/:carid\" component={BookingCar} isAdmin={false} />\n\n        {/* Fallback Route */}\n        <Route path=\"*\">\n          <Redirect to={user?.isAdmin ? \"/admin\" : \"/\"} />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initialState = {\n    cars: [],\n    loading: false,\n    error: null\n};\n\nexport const carsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'GET_ALL_CARS':\n            return {\n                ...state,\n                cars: action.payload\n            };\n        case 'LOADING':\n            return {\n                ...state,\n                loading: action.payload\n            };\n        case 'ERROR':\n            return {\n                ...state,\n                error: action.payload\n            };\n        default:\n            return state;\n    }\n};","const initialState = {\n    loading: false\n};\n\nexport const alertsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'LOADING':\n            return {\n                ...state,\n                loading: action.payload\n            };\n        default:\n            return state;\n    }\n};","import { GET_ALL_BOOKINGS } from '../types';\n\nconst initialState = {\n  bookings: []\n};\n\nconst bookingsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_ALL_BOOKINGS:\n      return {\n        ...state,\n        bookings: action.payload\n      };\n    default:\n      return state;\n  }\n};\n\nexport default bookingsReducer;","import { createStore, applyMiddleware, combineReducers } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport { carsReducer } from './reducers/carsReducer';\nimport { alertsReducer } from './reducers/alertsReducer';\nimport bookingsReducer from './reducers/bookingsReducer';\n\nconst rootReducer = combineReducers({\n  carsReducer,\n  alertsReducer,\n  bookingsReducer\n});\n\nconst composeEnhancers = composeWithDevTools({\n  trace: true,\n  traceLimit: 25\n});\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunk))\n);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport \"./index.css\"; \nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './redux/store';\nimport {Provider} from 'react-redux'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\nreportWebVitals();"],"sourceRoot":""}